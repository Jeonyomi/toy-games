:root{--bg:#07030f;--card:#17122f;--text:#f7e9ff;--muted:#d6b7ff;--accent:#00ffff;--accent2:#ff00ff;--cab-h:min(820px,92vh)}
*{box-sizing:border-box}
body{margin:0;min-height:100vh;display:grid;place-items:center;background:radial-gradient(circle at 20% 10%,#24124a,var(--bg) 55%,#05020c);color:var(--text);font-family:Inter,system-ui,sans-serif;padding:12px}
.wrap{position:relative;width:min(720px,96vw);height:var(--cab-h);min-height:var(--cab-h);max-height:var(--cab-h);background:linear-gradient(180deg,#1c1536,var(--card));border:2px solid rgba(208,166,255,.55);border-radius:24px;padding:16px;box-shadow:0 18px 40px rgba(0,0,0,.45), inset 0 0 0 2px rgba(208,166,255,.12);display:flex;flex-direction:column;overflow:hidden}
.marquee{font-size:.78rem;font-weight:800;letter-spacing:.4px;background:rgba(14,10,29,.9);border:1px solid rgba(208,166,255,.35);color:#f1e6ff;padding:6px 10px;border-radius:10px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.cabinet-deco{display:flex;justify-content:center;padding:8px 0 2px}.coin-slot{display:inline-block;width:72px;height:10px;border-radius:99px;background:linear-gradient(180deg,#0b0716,#1f1538);border:1px solid rgba(208,166,255,.55);box-shadow:inset 0 2px 4px rgba(0,0,0,.6),0 0 12px rgba(208,166,255,.25)}
.h1row{display:flex;align-items:baseline;justify-content:space-between;gap:10px;flex-wrap:wrap}
.sub{margin:0;color:rgba(214,183,255,.85)}
.ver{font-size:.65rem;padding:2px 6px;border:1px solid rgba(208,166,255,.65);border-radius:999px;vertical-align:middle;color:#f1e6ff}

/* stage */
.stage{position:relative;flex:1;min-height:360px;border-radius:16px;border:1px solid rgba(208,166,255,.25);background:#000;overflow:hidden;margin-top:10px}
.stage canvas{display:block;width:100%;height:100%}

/* neon HUD inside stage */
@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@500;900&display=swap');
#ui{position:absolute;top:14px;left:14px;pointer-events:none;z-index:10;text-shadow:0 0 10px #0ff;font-family:'Orbitron',system-ui,sans-serif}
#score{font-size:22px;font-weight:900;letter-spacing:2px;color:#0ff}
#energy-bar-container{width:240px;height:16px;background:rgba(255,255,255,0.1);border:2px solid #f0f;margin-top:8px;box-shadow:0 0 10px #f0f, inset 0 0 10px rgba(255,0,255,0.5)}
#energy-bar{width:0%;height:100%;background:#f0f;box-shadow:0 0 20px #f0f;transition:width .1s}
#special-ready{color:#ff0;font-size:14px;margin-top:4px;display:none;animation:blink .5s infinite alternate;text-shadow:0 0 10px #ff0}
@keyframes blink{from{opacity:1}to{opacity:0}}

#instructions{position:absolute;bottom:10px;left:0;right:0;text-align:center;font-size:12px;color:rgba(255,255,255,0.8);pointer-events:none;letter-spacing:1.4px;text-shadow:0 0 5px #000;font-family:'Orbitron',system-ui,sans-serif;padding:0 10px}
.key{color:#0ff;font-weight:900;text-shadow:0 0 8px #0ff}.spec{color:#f0f;font-weight:900;text-shadow:0 0 8px #f0f}

#game-over{position:absolute;inset:0;display:none;z-index:20;place-items:center;background:rgba(0,0,0,.78);backdrop-filter:blur(8px)}
#game-over .card{max-width:420px;width:min(420px,92%);text-align:center;background:rgba(0,0,0,0.65);padding:28px;border:2px solid #f00;box-shadow:0 0 50px #f00;border-radius:18px}
#game-over h1{margin:0 0 10px;font-size:48px;color:#f00;text-shadow:0 0 30px #f00;letter-spacing:4px;font-family:'Orbitron',system-ui,sans-serif}
#game-over p{font-size:20px;margin:0 0 18px;color:#fff}
#restart-btn{background:transparent;border:2px solid #0ff;color:#0ff;font-family:'Orbitron',system-ui,sans-serif;font-size:18px;padding:12px 24px;cursor:pointer;text-transform:uppercase;font-weight:900;transition:all .2s ease;box-shadow:0 0 15px #0ff inset,0 0 15px #0ff;border-radius:14px}
#restart-btn:hover{background:#0ff;color:#000;box-shadow:0 0 40px #0ff,0 0 20px #0ff inset;transform:scale(1.05)}

#flash{position:absolute;inset:0;background:white;z-index:100;opacity:0;pointer-events:none}

:root{--bg:#130f26;--card:#1a1432;--text:#f4f0ff;--muted:#b8addf}
*{box-sizing:border-box}
body{margin:0;min-height:100vh;background:radial-gradient(circle at 20% 10%,#2a1f56,#130f26 55%,#0b0820);color:var(--text);font-family:Inter,system-ui,sans-serif;padding:12px;display:block}
.wrap{width:min(460px,95vw);min-height:min(860px,calc(100dvh - 24px));margin:0 auto;background:linear-gradient(180deg,#231a45,#1a1432);border:2px solid #5c49a8;border-radius:24px;padding:14px;box-shadow:0 18px 40px rgba(0,0,0,.45), inset 0 0 0 2px rgba(154,131,255,.12);display:flex;flex-direction:column;overflow:auto}
.marquee{font-size:.78rem;font-weight:800;letter-spacing:.4px;background:#181132;border:1px solid #4d3e8c;color:#d4c4ff;padding:6px 10px;border-radius:10px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.cabinet-deco{display:flex;justify-content:center;padding:8px 0 2px}.coin-slot{display:inline-block;width:72px;height:10px;border-radius:99px;background:linear-gradient(180deg,#15102c,#2d2358);border:1px solid #5c49a8;box-shadow:inset 0 2px 4px rgba(0,0,0,.6),0 0 14px rgba(154,131,255,.28);animation:slotPulse 2.2s ease-in-out infinite}
h1{margin:0 0 4px}.ver{font-size:.65rem;padding:2px 6px;border:1px solid #7f64e6;border-radius:999px}.sub{margin:0;color:var(--muted)}
.universal-actions{display:grid;grid-template-columns:repeat(3,1fr);gap:8px;margin:8px 0}.ua-btn{display:flex;align-items:center;justify-content:center;text-decoration:none;padding:10px;border-radius:10px;border:1px solid #4e3f8f;background:#271f4f;color:var(--text);font-size:.85rem;font-weight:700;cursor:pointer}
.hud{display:grid;grid-template-columns:repeat(4,1fr);gap:8px;margin:8px 0}.hud div{background:#221947;border:1px solid #4a398a;border-radius:10px;padding:8px;font-size:.8rem}
canvas{width:100%;height:auto;aspect-ratio:9/13;background:#0f0b20;border-radius:12px;border:1px solid #3f3276;touch-action:none}
.controls{display:grid;grid-template-columns:1fr 1fr;gap:8px;margin-top:8px;align-items:center}
.aim-label{font-size:.75rem;color:var(--muted);font-weight:800;letter-spacing:.6px}
#aimSlider{grid-column:1 / -1;width:100%;accent-color:#8fffe2;height:36px}
button{min-height:52px;border-radius:12px;border:1px solid #6f59c9;background:#392d6f;color:#f7f4ff;font-weight:900;cursor:pointer;touch-action:manipulation}
#fireBtn{background:linear-gradient(180deg,#8a2f66,#5e1d44);border-color:#e580bd;font-size:1rem}
#fireBtn.active{transform:translateY(1px);filter:brightness(1.18);box-shadow:0 0 0 2px rgba(255,196,231,.3) inset}
.status{margin:8px 0 0;color:var(--muted);font-size:.9rem;text-align:center;min-height:1.2em}
.crt-toggle{display:flex;align-items:center;gap:8px;color:var(--muted);font-size:.85rem;margin-top:8px}
.crt-on{position:relative}.crt-on::before{content:'';position:absolute;inset:0;pointer-events:none;background:repeating-linear-gradient(to bottom,rgba(255,255,255,.03) 0 1px,rgba(0,0,0,.02) 1px 3px);mix-blend-mode:overlay;border-radius:24px}.crt-on::after{content:'';position:absolute;inset:0;pointer-events:none;background:radial-gradient(ellipse at center,transparent 55%,rgba(0,0,0,.28));border-radius:24px}
.howto-overlay{position:fixed;inset:0;background:rgba(8,5,20,.8);display:grid;place-items:center;padding:16px;z-index:50}.howto-overlay.hidden{display:none}.howto-card{width:min(390px,92vw);background:#231a45;border:1px solid #5c49a8;border-radius:14px;padding:14px}.howto-card h2{margin:0 0 8px;font-size:1.1rem}.howto-card p{margin:0 0 8px;color:var(--muted);font-size:.9rem}.howto-actions{display:grid;grid-template-columns:1fr 1fr;gap:8px;margin-top:10px}.howto-actions button{border-radius:10px;border:1px solid #7f64e6;background:#392d6f;color:#fff;padding:10px}.howto-actions .ghost-btn{background:transparent;border-color:#8d72ff;color:#d9ccff}
@keyframes slotPulse{0%,100%{box-shadow:inset 0 2px 4px rgba(0,0,0,.6),0 0 8px rgba(154,131,255,.22)}50%{box-shadow:inset 0 2px 4px rgba(0,0,0,.6),0 0 16px rgba(154,131,255,.48)}}
@media (max-width:480px){.hud{grid-template-columns:repeat(2,1fr)}.controls{grid-template-columns:1fr}.howto-actions{grid-template-columns:1fr}}

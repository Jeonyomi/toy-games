<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#071914" />
  <title>BB Arcade</title>
  <link rel="stylesheet" href="ui-common.css" />
  <link rel="stylesheet" href="shared-nav.css" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <main class="app">
    <div class="marquee">ğŸ® BB ARCADE :: CHOOSE YOUR GAME</div>
    <div class="cabinet-deco" aria-hidden="true"><span class="coin-slot"></span></div>

    <header class="top">
      <div class="top-row">
        <h1><span class="ico rocket" aria-hidden="true"></span> BB Arcade <span class="ver">v5</span></h1>
        <div class="top-actions" aria-label="quick actions">
          <button class="icon-btn" aria-label="Notifications">ğŸ””</button>
          <button class="icon-btn" aria-label="Wallet">ğŸ‘›</button>
        </div>
      </div>
      <p class="sub">Pick a game. Finish fast. Improve your best.</p>
    </header>

    <section class="hero-cta" aria-label="Quick start">
      <button id="playRandom" class="cta-primary">Play Random</button>
      <button id="browseGames" class="cta-secondary">Open Menu</button>
    </section>

    <section class="filters" aria-label="Filters">
      <button class="filter-pill active" type="button" data-filter="all">All</button>
      <button class="filter-pill" type="button" data-filter="easy">Easy</button>
      <button class="filter-pill" type="button" data-filter="arcade">Arcade</button>
      <button class="filter-pill" type="button" data-filter="action">Action</button>
      <button class="filter-pill" type="button" data-filter="reflex">Reflex</button>
      <button class="filter-pill" type="button" data-filter="shooter">Shooter</button>
      <button class="filter-pill" type="button" data-filter="puzzle">Puzzle</button>
      <button class="filter-pill" type="button" data-filter="neon">Neon</button>
    </section>

    <section class="game-list" aria-label="Game list" id="gameList">
      <a class="game-card theme-tap" data-tags="easy" href="./tap2earn/index.html">
        <div class="game-card-top">
          <div class="game-title"><span class="game-badge" aria-hidden="true">ğŸª™</span><strong>Tap2Earn</strong></div>
          <span class="pill">Easy</span>
        </div>
        <p>Tap to earn coins. Upgrade power & energy.</p>
      </a>
      <a class="game-card theme-shield" data-tags="action" href="./beat-shield/index.html">
        <div class="game-card-top">
          <div class="game-title"><span class="game-badge" aria-hidden="true">ğŸ›¡ï¸</span><strong>Beat Shield</strong></div>
          <span class="pill">Action</span>
        </div>
        <p>Defend the core with timing & arrows.</p>
      </a>
      <a class="game-card theme-reflex" data-tags="reflex easy" href="./reaction-dash/index.html">
        <div class="game-card-top">
          <div class="game-title"><span class="game-badge" aria-hidden="true">âš¡</span><strong>Reaction Dash</strong></div>
          <span class="pill">Reflex</span>
        </div>
        <p>Wait for green. Tap instantly.</p>
      </a>
      <a class="game-card theme-astro" data-tags="arcade" href="./astro-dodge/index.html">
        <div class="game-card-top">
          <div class="game-title"><span class="game-badge" aria-hidden="true">ğŸš€</span><strong>Astro Dodge</strong></div>
          <span class="pill">Arcade</span>
        </div>
        <p>Dodge hazards and survive the run.</p>
      </a>
      <a class="game-card theme-worm" data-tags="arcade" href="./worm-tail/index.html">
        <div class="game-card-top">
          <div class="game-title"><span class="game-badge" aria-hidden="true">ğŸ›</span><strong>Worm Tail</strong></div>
          <span class="pill">Arcade</span>
        </div>
        <p>Grow the worm. Avoid collisions.</p>
      </a>
      <a class="game-card theme-stack" data-tags="easy" href="./perfect-stack/index.html">
        <div class="game-card-top">
          <div class="game-title"><span class="game-badge" aria-hidden="true">ğŸ§±</span><strong>Perfect Stack</strong></div>
          <span class="pill">Easy</span>
        </div>
        <p>Stack blocks. Chase a perfect combo.</p>
      </a>
      <a class="game-card theme-orbit" data-tags="shooter arcade" href="./orbit-defender/index.html">
        <div class="game-card-top">
          <div class="game-title"><span class="game-badge" aria-hidden="true">ğŸ›°ï¸</span><strong>Orbit Defender</strong></div>
          <span class="pill">Shooter</span>
        </div>
        <p>Defend your orbit. Keep it alive.</p>
      </a>
      <a class="game-card theme-laser" data-tags="puzzle" href="./laser-relay/index.html">
        <div class="game-card-top">
          <div class="game-title"><span class="game-badge" aria-hidden="true">ğŸ”º</span><strong>Laser Relay</strong></div>
          <span class="pill">Puzzle</span>
        </div>
        <p>Rotate mirrors. Route the beam.</p>
      </a>
      <a class="game-card theme-neon" data-tags="neon arcade" href="./neon-tank/index.html">
        <div class="game-card-top">
          <div class="game-title"><span class="game-badge" aria-hidden="true">ğŸŒ€</span><strong>Neon Tank</strong></div>
          <span class="pill">Neon</span>
        </div>
        <p>Move, jump, shoot. Charge ultimate.</p>
      </a>

      <a class="game-card theme-neon" data-tags="neon arcade" href="./neon-survivor/index.html">
        <div class="game-card-top">
          <div class="game-title"><span class="game-badge" aria-hidden="true">ğŸ§¬</span><strong>Neon Survivor 3D</strong></div>
          <span class="pill">Neon</span>
        </div>
        <p>Auto-attack. Level up and pick skills.</p>
      </a>
    </section>

    <footer class="home-foot">
      <label class="crt-toggle"><input id="crtToggle" type="checkbox" /> CRT Effect (Visual Only)</label>
    </footer>
  </main>

  <script>
    (function(){
      const key='bb_arcade_crt';
      const wrap=document.querySelector('.app');
      const t=document.getElementById('crtToggle');
      const saved=localStorage.getItem(key);
      const on=saved==='1';
      if(on){wrap.classList.add('crt-on'); t.checked=true;}
      t.addEventListener('change',()=>{wrap.classList.toggle('crt-on',t.checked); localStorage.setItem(key,t.checked?'1':'0');});

      document.getElementById('browseGames').addEventListener('click',()=>window.arcadeMenu?.open());

      const links=['./tap2earn/index.html','./beat-shield/index.html','./reaction-dash/index.html','./astro-dodge/index.html','./worm-tail/index.html','./perfect-stack/index.html','./orbit-defender/index.html','./laser-relay/index.html','./neon-tank/index.html','./neon-survivor/index.html'];
      document.getElementById('playRandom').addEventListener('click',()=>{
        const pick=links[Math.floor(Math.random()*links.length)];
        location.href=pick;
      });

      // Filters
      const filterBtns = Array.from(document.querySelectorAll('.filter-pill'));
      const cards = Array.from(document.querySelectorAll('.game-card[data-tags]'));
      const activeKey = 'bb_arcade_filter';
      let active = localStorage.getItem(activeKey) || 'all';

      function applyFilter(value){
        active = value;
        localStorage.setItem(activeKey, value);
        filterBtns.forEach(b=>b.classList.toggle('active', b.dataset.filter===value));
        cards.forEach(c=>{
          const tags = (c.dataset.tags || '').split(/\s+/).filter(Boolean);
          const show = value==='all' || tags.includes(value);
          c.classList.toggle('hidden', !show);
        });
      }

      filterBtns.forEach(b=>b.addEventListener('click',()=>applyFilter(b.dataset.filter)));
      applyFilter(active);

      // If current filter hides all, reset
      if(cards.every(c=>c.classList.contains('hidden'))) applyFilter('all');
    })();
  </script>

  <script src="shared-nav.js"></script>
</body>
</html>
